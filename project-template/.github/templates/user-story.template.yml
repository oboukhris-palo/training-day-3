# User Story Template - Jira-Compatible Schema
# This template follows Atlassian Jira's User Story model for seamless integration via MCP

metadata:
  # Unique identifier for the user story in the system
  issueId: ""
  
  # Project key (e.g., "PROJ")
  projectKey: ""
  
  # Story key (auto-generated by Jira, e.g., "PROJ-456")
  issueKey: ""
  
  # Issue type (always "Story" for user stories)
  issueType: "Story"

basic_info:
  # Story summary/title (required)
  summary: ""
  
  # Detailed description
  description: ""
  
  # Epic link (required - links story to parent epic)
  epicLink: ""
  epicKey: ""
  
  # Status
  status: "To Do"  # Allowed: To Do, In Progress, In Review, In Testing, Done
  
  # Resolution
  resolution: ""  # Fixed, Won't Fix, Duplicate, Cannot Reproduce, Done, etc.

user_story_format:
  # As a [user type]
  asA: ""
  
  # I want to [action/goal]
  iWantTo: ""
  
  # So that [business value/benefit]
  soThat: ""

acceptance_criteria:
  # List of acceptance criteria (definition of done)
  criteria:
    - ""
    # Example:
    # - "User can successfully log in with valid credentials"
    # - "Error message displays for invalid credentials"
    # - "Session persists for 24 hours"

details:
  # Story type (subtask of epic)
  storyType: "User Story"  # Allowed: User Story, Technical Story, Bug, Task
  
  # Priority level
  priority: "Medium"  # Allowed: Lowest, Low, Medium, High, Highest
  
  # Risk assessment
  risk: "Low"  # Allowed: Low, Medium, High
  
  # Story Status Category
  statusCategory: "To Do"  # Allowed: To Do, In Progress, Done
  
  # Start and end dates
  startDate: ""  # Format: YYYY-MM-DD
  dueDate: ""    # Format: YYYY-MM-DD
  targetDate: "" # Format: YYYY-MM-DD

team:
  # Assignee (developer who will work on the story)
  assignee:
    name: ""
    email: ""
    key: ""
  
  # Reporter/Creator
  reporter:
    name: ""
    email: ""
    key: ""
  
  # QA assignee (for testing)
  qaAssignee:
    name: ""
    email: ""
    key: ""
  
  # Design assignee
  designAssignee:
    name: ""
    email: ""
    key: ""

labels:
  # Labels for categorization and filtering
  labels: []
  # Example:
  # - frontend
  # - authentication
  # - urgent
  # - enhancement

components:
  # Software components affected
  components: []
  # Example:
  # - name: "Login Module"
  #   key: "LOGIN"
  # - name: "User Management"
  #   key: "USR_MGMT"

estimation:
  # Story points (effort estimation)
  storyPoints: 0
  
  # Time estimate (in hours)
  timeEstimate: 0
  
  # Original estimate
  originalEstimate: 0
  
  # Time spent (tracked during execution)
  timeSpent: 0
  
  # Remaining estimate
  remainingEstimate: 0

technical_details:
  # Technical specifications
  technicalNotes: ""
  
  # Acceptance test criteria (technical)
  technicalAcceptanceCriteria:
    - ""
  
  # Code review requirements
  codeReviewRequired: true
  
  # Security considerations
  securityConsiderations:
    - ""
  
  # Performance requirements
  performanceRequirements:
    - ""
  
  # Browser/platform compatibility
  compatibility:
    - ""

design_requirements:
  # UI/UX design references
  designDocuments:
    - title: ""
      url: ""
      type: "Figma"  # Figma, Sketch, Adobe XD, Wireframe, Mockup
  
  # Design review required
  designReviewRequired: false
  
  # UI elements involved
  uiElements:
    - ""
  
  # Accessibility requirements
  accessibilityRequirements:
    - "WCAG 2.1 Level AA compliance"

testing:
  # Test cases
  testCases:
    - id: ""
      description: ""
      expectedResult: ""
      priority: "High"  # High, Medium, Low
  
  # Test coverage requirement (percentage)
  testCoverageRequired: 80
  
  # QA notes
  qaNotesRequired: true
  
  # UAT (User Acceptance Testing) required
  uatRequired: false

dependencies:
  # Parent issue
  parentIssueKey: ""
  
  # Blocked by issues
  blockedBy: []
  # Example:
  # - key: "PROJ-100"
  #   summary: "Database schema migration"
  
  # Blocks issues
  blocks: []
  
  # Related issues
  relatedIssues: []
  # Example:
  # - key: "PROJ-200"
  #   linkType: "relates to"
  #   summary: "User profile enhancement"
  
  # External dependencies
  externalDependencies: []

risks_and_mitigations:
  risks:
    - risk: ""
      probability: "Low"  # Low, Medium, High
      impact: "Low"       # Low, Medium, High
      mitigation: ""

goals:
  # Success metrics
  successMetrics:
    - ""
  
  # Assumptions
  assumptions:
    - ""
  
  # Out of scope
  outOfScope:
    - ""

environment:
  # Environments where changes will be deployed
  environments:
    - development
    - staging
    - production
  
  # Deployment requirements
  deploymentNotes: ""
  
  # Database migrations required
  databaseMigrationsRequired: false
  
  # Configuration changes required
  configurationChangesRequired: false
  
  # Rollback plan
  rollbackRequired: false
  rollbackStrategy: ""

documentation:
  # Design documents
  designDocuments:
    - title: ""
      url: ""
  
  # Technical specifications
  technicalSpecs:
    - title: ""
      url: ""
  
  # API documentation
  apiDocumentation:
    - title: ""
      url: ""
  
  # Related wiki pages
  wikis:
    - title: ""
      url: ""

versioning:
  # Affected versions
  affectedVersions: []
  
  # Fix versions
  fixVersions: []
  
  # Target release
  targetRelease: ""

timeline:
  # Created and updated timestamps
  createdAt: ""  # Format: ISO 8601
  updatedAt: ""  # Format: ISO 8601
  
  # Sprint information
  sprint:
    name: ""
    startDate: ""
    endDate: ""
    sprintNumber: 0
  
  # Comments/activity
  comments:
    - author: ""
      timestamp: ""
      text: ""
  
  # Changelog entries
  changelog: []
  # Example:
  # - timestamp: "2025-01-01T10:00:00Z"
  #   author: "john.doe"
  #   field: "status"
  #   fromValue: "To Do"
  #   toValue: "In Progress"

workflow:
  # Current status workflow
  statusWorkflow: "Standard"
  
  # Transition history
  transitions: []
  # Example:
  # - from: "To Do"
  #   to: "In Progress"
  #   timestamp: "2025-01-02T10:00:00Z"
  #   author: "john.doe"
  
  # Approval workflow
  approvalsRequired: false
  approvals:
    - role: "Product Owner"
      approved: false
      approvedBy: ""
      approvalDate: ""
    - role: "Tech Lead"
      approved: false
      approvedBy: ""
      approvalDate: ""

attachments:
  # Files attached to the story
  attachments:
    - title: ""
      type: ""  # Document, Image, Video, Code, etc.
      url: ""
      uploadedBy: ""
      uploadedDate: ""

custom_fields:
  # Custom Jira fields (expand as needed for your instance)
  customField1: ""
  customField2: ""
  customField3: ""
  
  # Add your organization's specific custom fields here
  # Examples:
  # customerImpact: ""
  # businessValue: ""
  # complexity: ""

quality_metrics:
  # Code quality requirements
  codeQualityGate: "Required"
  
  # Bug count (if this is fixing bugs)
  bugsFixed: 0
  
  # Performance impact
  performanceImpact: "None"  # None, Positive, Negative, Unknown
  
  # Test execution status
  testExecutionStatus: ""
  
  # Defect density target
  defectDensityTarget: 0

watchers:
  # Users watching this story
  watchers:
    - name: ""
      email: ""